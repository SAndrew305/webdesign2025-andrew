<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T1A11</title>
    <style>
        /* Define the two primary colors as CSS variables */
        :root {
            --light-bg: #f3f4f6; /* Whitish color */
            --dark-bg: #1f2937; /* Darkish-blue color */
            --light-text: #1f2937; /* Dark text for light background */
            --dark-text: #e5e7eb; /* Light text for dark background */
        }
        
        html {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }

        /*
          CRITICAL CHANGE: Increased min-height to force massive scrolling.
          We use a CSS transition on background-color for the smooth color flip.
        */
        body {
            margin: 0;
            /* Height remains high to allow deep scrolling */
            min-height: 800vh; 
            background-color: var(--light-bg);
            /* This ensures the color change is smooth (like 0.5s transition) */
            transition: background-color 0.5s ease-in-out;
            /* Ensure scrolling is allowed */
            overflow-y: scroll;
        }
        
        /* This is the "Main Page" content */
        #mainPage {
            color: var(--light-text); 
            
            /* CONTENT AT TOP: Set min-height to 100vh so content starts near the top */
            min-height: 100vh; 
            
            /* Center the primary visible content */
            display: flex;
            flex-direction: column;
            align-items: center;
            /* Use flex-start to push the content cluster to the top of the container */
            justify-content: flex-start; 
            
            padding: 2rem;
            box-sizing: border-box;
            text-align: center;
            
            /* Ensure text color smoothly changes with the body background */
            transition: color 0.5s ease-in-out;
        }
        
        /* The content container ensures the text stays readable */
        #scrollContent {
            max-width: 800px;
            /* Set content min-height to ensure scrollability */
            min-height: 150vh; 
        }

        #mainPage h1 {
            font-size: 3rem;
            font-weight: 700;
        }

        /* Added transition for the onmouseover/out fade effect */
        #eventParagraph {
            transition: opacity 0.3s ease-in-out;
        }
        
        /* Class to apply the dark text color */
        .dark-text {
            color: var(--dark-text) !important; /* Light text for dark backgrounds */
        }


        /* Splash Screen Styles (unchanged) */
        #splashScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: #f7df1e;
            color: #000000;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            transition: transform 1s ease-in-out;
        }

        #fadeInHeader {
            font-size: 4.5rem;
            font-weight: 700;
            letter-spacing: -0.025em;
            margin: 0;
            
            /* CSS for the slide-in/mask effect (unchanged) */
            --mask-gradient: linear-gradient(to right, black 48%, rgba(0,0,0,0.2) 50%, transparent 52%);
            -webkit-mask-image: var(--mask-gradient);
            mask-image: var(--mask-gradient);
            -webkit-mask-size: 200% 100%;
            mask-size: 200% 100%;
            -webkit-mask-position: 100% 0;
            mask-position: 100% 0;
            transition: -webkit-mask-position 3s ease-in-out,
                        mask-position 3s ease-in-out;
        }
    </style>
</head>
<body>

    <!-- This is the main page content -->
    <div id="mainPage">
        <h1>JavaScript Events & Dynamic Background</h1>
        
        <p id="eventParagraph" 
           onmouseover="changeText(this)" 
           onmouseout="revertText(this)"
           style="margin-bottom: 2rem;">
           What you just saw was the onLoad event. But if you hover over me,
        </p>
        
        <!-- Placeholder content to force vertical scrolling -->
        <div id="scrollContent">
            <p>
                Scroll down further! The content is all visible now. The background will smoothly transition from light to dark blue when you pass the **SCROLL_THRESHOLD (2500px)**. This threshold is now set to happen *while* the text is still visible.
            </p>
            <!-- Repeating text to ensure scrollability -->
            <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
            </p>
            <p>
                Proin eget tortor sodales, congue nisl non, interdum dui. Curabitur vel risus nec sapien consectetur ullamcorper. Suspendisse potenti. Integer tincidunt, urna eget dictum eleifend, velit sem pretium elit, vel iaculis est metus eget purus.
            </p>
            <p>
                Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Vestibulum finibus, purus non facilisis tincidunt, magna velit venenatis felis, in ultrices erat elit vitae nisi. Vivamus laoreet.
            </p>
            <p>
                Nullam accumsan, libero vel facilisis ultricies, diam libero iaculis nulla, non convallis velit odio vel enim. Praesent luctus lacus ut urna finibus, vitae congue urna bibendum. Quisque eu.
            </p>
            <p>
                Morbi vitae urna in nisi facilisis blandit a ac ipsum. Aenean cursus velit vel nunc luctus, eu iaculis velit pulvinar. Donec ac massa id orci facilisis.
            </p>
            <!-- CRITICAL CHANGE: Explicit marker for the user -->
            <p style="font-weight: bold; color: red;">
                SCROLLING HERE WILL TRIGGER THE BACKGROUND SHIFT NOW! (Threshold: 2500px)
            </p>
            <p style="height: 100vh;">
                This final block ensures that the page is long enough to hit the 2500px threshold easily. Keep scrolling to see the dark blue background appear.
            </p>
        </div>
    </div>

    <!-- This is the splash screen that slides out -->
    <div id="splashScreen">
        <h1 id="fadeInHeader">
            T 1 A 1 1 
        </h1>
    </div>

    <script>
        const originalText = "onMouseOut. That's three.";
        const mainPage = document.getElementById('mainPage');
        const body = document.body;

        // Function to change the text on hover (unchanged logic)
        function changeText(element) {
            element.style.opacity = '0';
            setTimeout(() => {
                element.innerHTML = "This is the onMouseOver event, now get your cursor away for a second...";
                element.style.opacity = '1';
            }, 300);
        }

        // Function to revert the text when mouse leaves (unchanged logic)
        function revertText(element) {
            element.style.opacity = '0';
            setTimeout(() => {
                element.innerHTML = originalText;
                element.style.opacity = '1';
            }, 300);
        }
        
        /* --- DINO GAME STYLE SCROLL LOGIC (Smooth transition on instant switch) --- */

        // FIXED THRESHOLD: Set to 2500px, which is right at the end of the content, 
        // ensuring the background flip happens while content is visible.
        const SCROLL_THRESHOLD = 2500; 
        
        // Function to handle the scroll event
        function handleScroll() {
            const scrollY = window.scrollY;

            // Check if the scroll position is past the threshold
            if (scrollY > SCROLL_THRESHOLD) {
                // Switch body background color (smoothly due to CSS transition)
                body.style.backgroundColor = 'var(--dark-bg)';
                // Switch text color instantly
                mainPage.classList.add('dark-text'); 
            } else {
                // Switch back to light theme
                body.style.backgroundColor = 'var(--light-bg)';
                // Switch text color instantly
                mainPage.classList.remove('dark-text');
            }
        }

        // Attach the handleScroll function to the window's scroll event
        window.addEventListener('scroll', handleScroll);

        /* --- INITIAL LOAD ANIMATION LOGIC (updated for body reference) --- */
        window.addEventListener('load', () => {
            const header = document.getElementById('fadeInHeader');
            const splashScreen = document.getElementById('splashScreen');
            
            header.style.webkitMaskPosition = '0% 0';
            header.style.maskPosition = '0% 0';

            setTimeout(() => {
                header.style.webkitMaskImage = 'none';
                header.style.maskImage = 'none';

                setTimeout(() => {
                    splashScreen.style.transform = 'translateY(-100%)';
                    
                    // After the splash screen slides up, we need to manually
                    // set the overflow to 'auto' so the page is scrollable.
                    document.body.style.overflow = 'auto';
                    
                    // Call handleScroll once to set the initial state correctly
                    handleScroll();
                }, 500);

            }, 3000);
        });
    </script>

</body>
</html>
